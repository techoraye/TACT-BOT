<!DOCTYPE html>
<html>
  <%- include('includes/head') %>

  <style>
    body {
      background: #181c23;
      color: #e3e5e8;
    }
    .content-wrapper,
    .content-header {
      background: #181c23 !important;
    }
    .box.box-solid {
      background: #23283b;
      border-radius: 18px;
      box-shadow: 0 2px 16px 0 #00000040;
      border: 1px solid #2a3145;
      margin-bottom: 32px;
      transition: box-shadow 0.2s;
    }
    .box.box-solid:hover {
      box-shadow: 0 4px 32px 0 #00000080;
    }
    .box-header.with-border {
      border-bottom: 1px solid #2a3145;
      margin-bottom: 18px;
      background: none;
    }
    .server-name {
      color: #fff;
      font-size: 1.2rem;
      font-weight: 700;
      margin: 0;
      margin-top: 8px;
      margin-bottom: 8px;
      letter-spacing: 0.2px;
    }
    .box-body {
      background: none;
      padding-bottom: 0;
    }
    .img-fluid {
      box-shadow: 0 2px 8px 0 #00000030;
      border: 3px solid #23283b;
      background: #23283b;
    }
    .box-footer {
      background: none;
      border: none;
      padding: 0 16px 16px 16px;
      display: flex;
      justify-content: center;
    }
    .btn-primary,
    .btn-success {
      border-radius: 18px;
      font-weight: 800;
      border: none;
      box-shadow: 0 4px 16px 0 #00000030;
      font-size: 1.65rem;
      padding: 58px 12 58px 30;
      width: 100%;
      margin: 18px auto 0 auto;
      display: block;
      letter-spacing: 0.5px;
      transition: background 0.2s, box-shadow 0.2s, transform 0.1s;
      text-align: center;
      line-height: 1.2;
    }
    .btn-primary {
      background: linear-gradient(90deg, #3a8fff 0%, #0059ff 100%);
      color: #fff;
    }
    .btn-success {
      background: linear-gradient(90deg, #1fd655 0%, #1fa855 100%);
      color: #fff;
    }
    .btn-primary:focus,
    .btn-success:focus {
      outline: none;
      box-shadow: 0 0 0 3px #3a8fff55;
      transform: scale(1.03);
    }
    .btn-primary:hover,
    .btn-success:hover {
      filter: brightness(1.08);
      transform: scale(1.04);
    }
    .row {
      margin-top: 24px;
    }
    .content-header h1,
    .content-header small {
      color: #fff;
      font-weight: 700;
    }
    .breadcrumb {
      background: none;
      color: #e3e5e8;
    }
  </style>

  <body class="hold-transition skin-blue sidebar-mini">
    <div class="wrapper">
      <!-- The header is the topbar -->
      <%- include('includes/header') %>

      <!-- The sidebar includes the menu -->
      <%- include('includes/sidebar') %>

      <!-- Content Wrapper. Contains page content -->
      <div class="content-wrapper">
        <!-- Content Header (Page header) -->
        <section class="content-header">
          <h1>Selector <small> Version 0.5-beta </small></h1>
          <ol class="breadcrumb">
            <li class="active">
              <a href="/"><i class="fa fa-home"></i>Selector</a>
            </li>
          </ol>
        </section>

        <section class="content">
          <div class="row">
            <% if(user.displayedGuilds){ user.displayedGuilds.forEach(function(guild) { %>
            <!-- Displays 4 servers by line -->
            <div class="col-md-3">
              <div class="box box-solid">
                <div class="box-header with-border text-center">
                  <i class="fas fa-crown"></i>
                  <h3 class="box-title server-name"><%= guild.name %></h3>
                </div>
                <!-- /.box-header -->
                <div class="box-body">
                  <div class="text-center">
                    <img
                      src="<%= guild.iconURL %>"
                      style="border-radius: 100%"
                      width="100"
                      height="100"
                      class="img-fluid"
                    />
                  </div>
                </div>
                <!-- /.box-body -->
                <div class="box-footer">
                  <% if(guild.settingsUrl.includes('discordapp.com')) { %>
                  <a href="<%= guild.settingsUrl %>"><button class="btn btn-block btn-primary">Invite</button></a>
                  <% } else { %>
                  <a href="<%= guild.settingsUrl %>"><button class="btn btn-block btn-success">Manage</button></a>
                  <% } %>
                </div>
                <!-- /.box-footer -->
              </div>
              <!-- /.box -->
            </div>
            <!-- /.col -->
            <% }); } else { %>
            <div class="col-md-12">
              <div class="box box-warning">
                <div class="box-header with-border">
                  <h3 class="box-title">No server found</h3>
                  <div class="box-tools pull-right">
                    <button type="button" class="btn btn-box-tool" data-widget="collapse">
                      <i class="fa fa-minus"></i>
                    </button>
                  </div>
                  <!-- /.box-tools -->
                </div>
                <!-- /.box-header -->
                <div class="box-body">
                  No server to display. Make sure you are logged in with the right account and try again
                </div>
                <!-- /.box-body -->
              </div>
              <!-- /.box -->
            </div>
            <% } %>
          </div>
        </section>
      </div>

      <!-- Footer includes credits and version -->
      <%- include('includes/footer') %>
    </div>
    <!-- ./wrapper -->
  </body>
</html>
